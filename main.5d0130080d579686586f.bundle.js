(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return src_Wizard})),__webpack_require__.d(__webpack_exports__,"a",(function(){return src_Controls})),__webpack_require__.d(__webpack_exports__,"b",(function(){return src_Step})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useControls}));var objectSpread2=__webpack_require__(56),react=__webpack_require__(0),react_default=__webpack_require__.n(react);const error=(msg="")=>{throw new Error("react-decision-tree-flow error! ".concat(msg).trim())},isKeyInList=(list,key,msg)=>{list.some(value=>key===value)||error(msg||"Step ( ".concat(key," ) Missing from Tree List!"))},doMiddleware=(middleware,step,setStep,nextStep,tree)=>{"function"==typeof middleware?middleware(step,setStep,nextStep,tree):Array.isArray(middleware)?middleware.forEach(mwFunction=>mwFunction(step,setStep,nextStep,tree)):error("Unknown Middleware")},getControls=(tree,step,treeKeys=[],setStep=(()=>null),middleware=[])=>(tree[step]||[]).reduce((agg,to)=>(to||error("Elements in tree array must be Objects or strings. Value was falsey!"),"string"==typeof to?(isKeyInList(treeKeys,to),Object(objectSpread2.a)({},agg,{[to]:()=>{doMiddleware(middleware,step,setStep,to,tree),setStep(to)}})):"object"==typeof to?Object(objectSpread2.a)({},agg,{},Object.entries(to).reduce((agg2,[key,value])=>("string"!=typeof value&&error("Nested objects must have keys of type string!"),isKeyInList(treeKeys,value),Object(objectSpread2.a)({},agg2,{[key]:()=>{doMiddleware(middleware),setStep(value)}})),{})):void error("Elements in tree array must be Objects or strings")),{tree:tree,step:step}),WizardContext=react_default.a.createContext({tree:{},step:null,middleware:[]});class Wizard_Wizard extends react_default.a.Component{constructor(props){super(props),this.setStep=step=>{this.setState({step:step})},this.state=Object(objectSpread2.a)({},{tree:{},step:null,middleware:[]},{treeKeys:[]})}componentDidMount(){const _this$props=this.props,tree=_this$props.tree,first=_this$props.first,currentStep=_this$props.currentStep,_this$props$middlewar=_this$props.middleware,middleware=void 0===_this$props$middlewar?[]:_this$props$middlewar,_this$props$noFirst=_this$props.noFirst,noFirst=void 0!==_this$props$noFirst&&_this$props$noFirst,treeKeys=Object.keys(tree);isKeyInList(treeKeys,first,"First Step Missing from Tree List!"),"function"==typeof middleware||Array.isArray(middleware)&&(0===middleware.length||middleware.every(mwFunc=>"function"==typeof mwFunc))||error("Unknown Middleware. Did you pass in a function or array of functions?"),noFirst||doMiddleware(middleware,first,this.setStep,currentStep,tree),this.setState({step:first,treeKeys:treeKeys,tree:tree})}render(){const _this$props2=this.props,children=_this$props2.children,middleware=_this$props2.middleware;_this$props2.currentStep;return react_default.a.createElement(WizardContext.Provider,{value:Object(objectSpread2.a)({},this.state,{middleware:middleware,setStep:this.setStep})},children)}}Wizard_Wizard.__docgenInfo={description:"",methods:[],displayName:"Wizard"};var src_Wizard=Wizard_Wizard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Wizard.js"]={name:"Wizard",docgenInfo:Wizard_Wizard.__docgenInfo,path:"src/Wizard.js"});class Controls_Controls extends react.Component{render(){const _this$props$children=this.props.children,children=void 0===_this$props$children?()=>null:_this$props$children;return react_default.a.createElement(WizardContext.Consumer,null,({setStep:setStep,tree:tree={},step:step="",treeKeys:treeKeys,middleware:middleware})=>children(getControls(tree,step,treeKeys,setStep,middleware)))}}Controls_Controls.__docgenInfo={description:"",methods:[],displayName:"Controls"};var src_Controls=Controls_Controls;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Controls.js"]={name:"Controls",docgenInfo:Controls_Controls.__docgenInfo,path:"src/Controls.js"});class Step_Step extends react.Component{render(){const _this$props=this.props,name=_this$props.name,children=_this$props.children;return react_default.a.createElement(WizardContext.Consumer,null,({step:step,treeKeys:treeKeys})=>step?(isKeyInList(treeKeys,name),step===name?children:null):null)}}Step_Step.__docgenInfo={description:"",methods:[],displayName:"Step"};var src_Step=Step_Step;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Step.js"]={name:"Step",docgenInfo:Step_Step.__docgenInfo,path:"src/Step.js"});const useControls=()=>{const _useContext=Object(react.useContext)(WizardContext),setStep=_useContext.setStep,_useContext$tree=_useContext.tree,tree=void 0===_useContext$tree?{}:_useContext$tree,_useContext$step=_useContext.step,step=void 0===_useContext$step?"":_useContext$step,treeKeys=_useContext.treeKeys,middleware=_useContext.middleware;return getControls(tree,step,treeKeys,setStep,middleware)}},286:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='# React Decision Tree\n\n## Quick start\n\n`yarn add react-decision-tree-flow`\n\n[Demo](https://rjerue.github.io/react-decision-tree-flow)\n\ncode\n\n```\nimport { Wizard, Step, Controls } from "react-decision-tree-flow";\n\nconst tree = {\n  step1: ["step2"],\n  step2: ["step3", "error"],\n  step3: ["step1"],\n  error: ["step2"]\n};\n\nconst App = () => (\n  <Wizard tree={tree} first="step1">\n    <Step name="step1">\n      <div>\n        I am step 1\n        <br />\n        <Controls>\n          {({ step2 }) => <div onClick={step2}>Go to Step 2</div>}\n        </Controls>\n      </div>\n    </Step>\n    <Step name="step2">\n      <div>\n        I am step 2\n        <br />\n        <Controls>\n          {({ step3, error }) => (\n            <div>\n              <div onClick={error}>Go to error</div>\n              <div onClick={step3}>Go to Step 3</div>\n            </div>\n          )}\n        </Controls>\n      </div>\n    </Step>\n    <Step name="step3">\n      <div>\n        I am step 3\n        <br />\n        <Controls>\n          {({ step1 }) => <div onClick={step1}>Go to Step 1</div>}\n        </Controls>\n      </div>\n    </Step>\n    <Step name="error">\n      <div>\n        I am step 4\n        <br />\n        <Controls>\n          {({ step2 }) => <div onClick={step2}>Go to Step 2</div>}\n        </Controls>\n      </div>\n    </Step>\n  </Wizard>\n);\n\n```\n\n## Why?\n\nOften times when looking for libraries to handle decision trees or wizards, I found plenty of libraries that were sequential; things that went in a nice step by step sequence.\n\nSadly, this isn\'t how things often work; total web of lies! Instead, things look more like a web such as this:\n\n![Process Diagram](https://i.imgur.com/43ZaQL5.png)\n\nThat\'s not a line, that\'s a tree. As such, I\'ve created a declarative decision tree.\n\n## How?\n\nThere\'s three components to `react-decision-tree-flow` The **Wizard**, a **Step**, and **Controls**. Controls may also be exposed as a `useControls` hook.\n\n## Wizard\n\nThe Wizard needs to wrap everything because this is where the context lives. It needs two props: the **tree** and the **first** step. The wizard has an optional third prop called `middleware` for middleware that runs after each step. You pay pass in a function or an array of functions. There is a `noFirst` prop to skip running middleware on the first step. The `middleware` function takes in the params `step, setStep, tree`. `Step` is the current step, `setStep` is a function to change the step (pass in new step), and `tree` is the tree passed into the wizard.\n\n#### Tree\n\nThe tree is an object, it\'s keys are the steps in the wizard. Each key\'s value is an array to the other steps in the Wizard. Alternatively, you may input an object into the key and it will alias the value in that object. Here\'s an example Tree:\n\n```\nconst tree = {\n  step1: ["step2", "sideshow"],\n  sideshow: ["step3", { previous: "step2" }],\n  step2: ["step3", "error"],\n  step3: ["step1"],\n  error: ["step2"]\n};\n```\n\n- Step 1 goes to step 2 or sideshow\n- Sideshow goes to step3 by a call to `step3()`. It can return to step2 with a call to `previous()`. More on this later.\n- Step 2 brings you to step 3, or the error step\n- Step 3 brings you to step 1\n- Error brings you to step 2\n\n#### First\n\nThis one is pretty easy, it\'s just what the first step of the tree is. In the above example you\'d just have the prop passed down as `first="step1"` to start at step1\n\n## Step\n\nSteps are what make up elements in the Wizard. They have one prop: a **name**.\n\n#### Name\n\nThis is just the name of the step. It needs to line up with some value in the `tree`\'s keys.\n\n#### Rendering Steps\n\nThis will be the step that is currently active\n\n## Controls\n\nThe controls are the fun part, they\'re how the steps get changed. The Controls just have a render prop in the children that exposes whatever you inputted into the tree. Step 1 for example would expose `step2()` and `sideshow()` that you could then call whenever you wanted. Keys may be aliased as objects too as demonstrated in the above example. The `tree` and current `step` are also exposed.\n\n## Hooks\n\nThe `useControls` hook is useful to get the controls anywhere while in a Wizard\'s context. It may be used as a subsititue to `Controls` and exposes the same things.\n\n## Wow! How dare you make this opinionated\n\nI even expose the `WizardContext` so you can progromatically break it and ignore my opions. It contains the following:\n\n```\n{\n  tree: {}, // the tree object\n  step: null, // the step that the wizard is on\n}\n```\n\nThere\'s also a `useWizardContext` hook that exposes everything in the Wizard\'s context object.'},287:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11);const tree={step1:["step2"],step2:["step3","error"],step3:["step1"],error:["step2"]},App=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.c,{tree:tree,first:"step1"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{name:"step1"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"I am step 1",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,null,({step2:step2})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{onClick:step2},"Go to Step 2")))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{name:"step2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"I am step 2",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,null,({step3:step3,error:error})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{onClick:error},"Go to error"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{onClick:step3},"Go to Step 3"))))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{name:"step3"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"I am step 3",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,null,({step1:step1})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{onClick:step1},"Go to Step 1")))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{name:"error"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"I am step 4",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,null,({step2:step2})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{onClick:step2},"Go to Step 2")))));App.__docgenInfo={description:"",methods:[],displayName:"App"},__webpack_exports__.a=App,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/BasicTree.js"]={name:"App",docgenInfo:App.__docgenInfo,path:"stories/BasicTree.js"})},288:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_dawson_npm_cacache_tmp_git_clone_62780db9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(117),_home_dawson_npm_cacache_tmp_git_clone_62780db9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(290),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_src___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11);const tree={step1:["step2","sideshow"],sideshow:["step2",{previous:"step2",next:"step3"},{rawr:"error"},"step3"],step2:["step3","error"],step3:["step1"],error:["step2"]},App=()=>{const _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(0),_useState2=Object(_home_dawson_npm_cacache_tmp_git_clone_62780db9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),counter=_useState2[0],setCounter=_useState2[1];return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,"Counter:"," ".concat(counter)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_3__.c,{middleware:[()=>setCounter(counter+1),()=>console.log("hello",counter)],first:"step1",tree:tree},Object.keys(tree).map(key=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_3__.b,{name:key,key:key},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_3__.a,null,_ref=>{_ref.tree;let step=_ref.step,places=(_ref.setContext,_ref.setStep,Object(_home_dawson_npm_cacache_tmp_git_clone_62780db9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,["tree","step","setContext","setStep"]));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,"I am ",step,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br",null),Object.entries(places).map(([key,value])=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{key:key,onClick:value},"GO TO ",key)))})))))};App.__docgenInfo={description:"",methods:[],displayName:"App"},__webpack_exports__.a=App,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/ComplicatedTree.js"]={name:"App",docgenInfo:App.__docgenInfo,path:"stories/ComplicatedTree.js"})},289:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_dawson_npm_cacache_tmp_git_clone_62780db9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(117),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_src___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);const tree={step1:["step2","sideshow"],sideshow:["step2",{previous:"step2",next:"step3"},{rawr:"error"},"step3"],step2:["step3","error"],step3:["step1"],error:["step2"]},StepComp=({value:value})=>{const _useControls=Object(_src___WEBPACK_IMPORTED_MODULE_2__.d)(),step=_useControls.step,steps=(_useControls.tree,Object(_home_dawson_npm_cacache_tmp_git_clone_62780db9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_useControls,["step","tree"]));return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_2__.b,{name:value},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,"I am ",step,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),Object.entries(steps).map(([key,value])=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{key:key,onClick:value},"GO TO ",key))))};class App extends react__WEBPACK_IMPORTED_MODULE_1__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_2__.c,{first:"step1",tree:tree},Object.keys(tree).map(key=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(StepComp,{key:key,value:key}))))}}App.__docgenInfo={description:"",methods:[],displayName:"App"},__webpack_exports__.a=App,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/HooksTree.js"]={name:"App",docgenInfo:App.__docgenInfo,path:"stories/HooksTree.js"})},291:function(module,exports,__webpack_require__){__webpack_require__(292),__webpack_require__(438),module.exports=__webpack_require__(439)},356:function(module,exports){},439:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(88);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(628)}),module)}.call(this,__webpack_require__(220)(module))},628:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88),react_markdown__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(285),react_markdown__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_2__),_README_md__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(286),_BasicTree__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(287),_ComplicatedTree__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(288),_HooksTree__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(289);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Readme",module).add("Readme.md",()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_2___default.a,{source:_README_md__WEBPACK_IMPORTED_MODULE_3__.a})),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Examples",module).add("Basic Example",()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_BasicTree__WEBPACK_IMPORTED_MODULE_4__.a,null)).add("Complicated Tree!",()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ComplicatedTree__WEBPACK_IMPORTED_MODULE_5__.a,null)).add("Hooks",()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HooksTree__WEBPACK_IMPORTED_MODULE_6__.a,null))}.call(this,__webpack_require__(220)(module))}},[[291,1,2]]]);
//# sourceMappingURL=main.5d0130080d579686586f.bundle.js.map